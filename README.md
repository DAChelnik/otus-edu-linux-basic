Docker
===============

My name is Denis. I am Denis Chelnik.  
I am currently studying a course "Administrator Linux.Basic" in OTUS online school.  

Здравствуйте, меня зовут [Денис](https://github.com/DAChelnik).  
Изучаю курс [Administrator Linux.Basic](https://otus.ru/lessons/linux-basic/) в школе [OTUS](https://otus.ru/ "OTUS онлайн-образование").  
Получаю навыки администрирования Linux, которые выделят меня среди начинающих администраторов ..

Домашнее задание
----------------

Необходимо:

- установить docker
- найти образ nginx и скачать его
- запустить контейнер nginx на базе образа nginx
- подключить конфигурационные файлы nginx из ДЗ с web-сервером в контейнер nginx

### Описание стенда ###

Для развертывания всех компонент системы использован  Docker Compose, с помощью которого разворачивается стенд, состоящий из виртуальных машин:

- одна виртуальная машина в качестве балансировщика нагрузки
- дополнительные виртуальные машины - сервера приложений

### Структура стенда###

Стенд состоит из трёх проектов: db, nginx, www. Каждый проект в обязательном порядке имеет docker-compose.yml. Также для каждого контейнера своя директория (совпадающая с названием контейнера), где будет храниться вся информация, необходимая для работы контейнера (конфигурационные файлы, различные данные).

Структура проектов:

- db
  - nodes/ — каталог для хранения настроек виртуальных машин
  - docker-compose.yml
- nginx
  - nodes/ — каталог для хранения настроек виртуальных машин
  - docker-compose.yml
- www
  - nodes/ — каталог для хранения настроек виртуальных машин
  - data-www/ — каталог для хранения «php проектов» виртуальных хостов (эти файлы доступны внутри виртуальной машины)
  - docker-compose.yml

### Доступные виртуальные машины ###

- сервер Nginx Load Balancer
- MySQL сервер баз данных (master)
- MySQL сервер баз данных (slave)
- Веб сервер Nginx+Apache (primary)
- Веб сервер Nginx+Apache (secondary)
- Веб сервер Nginx+Apache (backup)

### Развёртывание стенда ###

Выполнить поочерёдно команды:

- `docker network create`

В каждом проекте (папки db, nginx, www) запустить поочерёдно:

- `docker-compose up -d`

### После развертывания стенда станут доступны следующие ресурсы ###

Сервер Nginx Load Balancer:

- наружу проброшен порт 8080
- localhost:8080

MySQL сервер баз данных (master):

- наружу проброшен порт 8091
- настроен phpMyAdmin, доступен по адресу
  - localhost:8091

MySQL сервер баз данных (slave):

- наружу проброшен порт 8092
- настроен phpMyAdmin, доступен по адресу
  - localhost:8092
