Конфигурирование web-сервера (apache, nginx, балансировка nginx)
===============

My name is Denis. I am Denis Chelnik.  
I am currently studying a course "Administrator Linux.Basic" in OTUS online school.  

Здравствуйте, меня зовут [Денис](https://github.com/DAChelnik).  
Изучаю курс [Administrator Linux.Basic](https://otus.ru/lessons/linux-basic/) в школе [OTUS](https://otus.ru/ "OTUS онлайн-образование").  
Получаю навыки администрирования Linux, которые выделят меня среди начинающих администраторов ..


Домашнее задание
----------------

Создать базовый скелет web-сервера (стенд) с балансировкой нагрузки. FrontEnd — Nginx, BackEnd — Apache:

-  установить Nginx и Apache
-  настроить работу Apache на порты отличные от порта 80
-  настроить работу Nginx на порт 80
-  настроить upstream в Nginx для BackEnd Apache
-  настроить перенаправление обращения Nginx на upstream


### Описание стенда ###

Для развертывания всех компонент системы использован Vagrant, с помощью которого разворачивается стенд, состоящий из виртуальных машин:

- одна виртуальная машина в качестве балансировщика нагрузки
- одна виртуальная машина, необходимая для работы всех компонент стенда - центральный сервер мониторинга IT-инфраструктуры, аудита и авторизации
- дополнительные виртуальные машины - сервера приложений

### Структура каталога ###

- nodes/ — каталог для хранения настроек виртуальных машин
- data-backup/ — каталог для хранения бэкапов виртуальных машин (эти файлы доступны внутри виртуальной машины)
- data-www/ — каталог для хранения «php проектов» виртуальных хостов (эти файлы доступны внутри виртуальной машины)
- data-tmp/ — временный каталог (создается автоматически)
- Vagrantfile — шаблон файла с настройками Vagrant

### Доступные виртуальные машины ###

- сервер Nginx Load Balancer
- сервер мониторинга IT-инфраструктуры, аудита и авторизации
- MySQL сервер баз данных (master)
- MySQL сервер баз данных (slave)
- Веб сервер Nginx+Apache (master)
- Веб сервер Nginx+Apache (slave)

### Центр загрузок и зеркало репозиториев Ubuntu ###

В первую очередь необходимо развернуть виртуальную машину на которой установим следующие сервисы:

- Nginx Load Balancer в качестве балансировщика нагрузки

### Сервер мониторинга IT-инфраструктуры, аудита и авторизации ###

Для устойчивой работы всех компонент стенда необходимо развернуть виртуальную машину на которой установим следующие сервисы:

- ~~DNS - локальный сервер разрешения имен~~
- ~~NTP - локальный сервер точного времени~~
- ~~Kerberos - локальный сервер авторизации~~

### На всех виртуальных машинах развернуты следующие вспомогательные сервисы ###

- ~~NTP - клиент синхронизации с локальным NTP сервером~~

### После развертывания стенда станут доступны следующие ресурсы ###

- сервер мониторинга IT-инфраструктуры, аудита и авторизации
- MySQL сервер баз данных (master):
  - localhost:8093/phpmyadmin/
- Production-окружение:
  - наружу проброшен порт 8095

Системные требования к стенду
-----------------------------

- оборудование:
  - 64-разрядный процессор с поддержкой преобразования адресов второго уровня (SLAT)
  - ЦП должен поддерживать расширения режима мониторинга виртуальной машины (VT-c на процессорах Intel)
  - Не менее 32 ГБ оперативной памяти
- операционная система:
  - Windows Server, Windows Корпоративная, Pro или для образовательных учреждений, так как роль Hyper-V **невозможно** установить в Windows Домашняя
- программное обеспечение:
  - система контроля версий Git
  - система виртуализации:
    - Virtualbox
  - Vagrant
    - плагин vagrant-disksize
